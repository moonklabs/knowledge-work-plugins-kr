---
name: cowork-plugin-customizer
description: >
  특정 조직의 도구와 워크플로우에 맞게 Claude Code 플러그인을 커스터마이징하거나 개인화합니다.
  사용자가 플러그인을 커스터마이징하거나, 도구 플레이스홀더를 교체하거나, 플러그인의 MCP 서버를 설정하려 할 때 사용합니다.
  이 스킬은 마운트된 플러그인 디렉토리가 있는 Cowork 모드가 필요하며, 원격 또는 표준 CLI 세션에서는 작동하지 않습니다.
compatibility: 마운트된 플러그인 디렉토리(mnt/.local-plugins, mnt/.plugins)에 접근할 수 있는 Cowork 데스크톱 앱 환경이 필요합니다.
---

# Cowork 플러그인 커스터마이징

범용 플러그인 템플릿을 특정 조직에 맞게 적용합니다. 커스터마이징 포인트를 실제 도구 이름으로 교체하고, MCP 서버를 설정하며, 조직별 커스터마이징을 적용합니다.

> **플러그인 찾기**: 플러그인의 소스 파일을 찾으려면 `find mnt/.local-plugins mnt/.plugins -type d -name "*<plugin-name>*"`을 실행하여 플러그인 디렉토리를 찾은 다음, 파일을 읽어 구조를 파악한 후 변경을 진행합니다. 플러그인 디렉토리를 찾을 수 없다면 사용자가 원격 컨테이너에서 대화를 실행하고 있을 가능성이 높습니다. 작업을 중단하고 다음과 같이 안내합니다: "플러그인 커스터마이징은 현재 데스크톱 앱의 Cowork 모드에서만 사용할 수 있습니다."

## 개요

범용 플러그인은 커스터마이징 포인트를 `~~` 접두사로 표시합니다. `~~`로 시작하는 모든 줄이나 값은 커스터마이징 시 교체해야 하는 플레이스홀더입니다(예: `~~Jira` → `Asana`, `~~your-team-channel` → `#engineering`). 플러그인의 모든 커스터마이징 포인트를 찾으려면 다음을 사용합니다:

```bash
grep -rn '~~\w' /path/to/plugin --include='*.md' --include='*.json'
```

> **중요**: 커스터마이징 대상 플러그인이나 스킬의 이름을 절대 변경하지 마십시오. `~~` 접두사가 붙은 플레이스홀더 값만 교체하고 내용만 업데이트합니다. 디렉토리, 파일 또는 플러그인/스킬 이름 필드의 이름은 변경하지 마십시오.

> **비기술적 출력**: 모든 사용자 대상 출력(할 일 목록 항목, 질문, 요약)은 쉬운 일상 언어로 작성해야 합니다. 사용자에게 `~~` 접두사, 플레이스홀더, 커스터마이징 포인트를 언급하지 마십시오. 모든 내용을 조직과 도구에 대해 파악하는 관점에서 설명합니다.

프로세스:
1. **컨텍스트 수집** — 지식 MCP를 활용하여 조직이 사용하는 도구와 프로세스를 파악합니다
2. **할 일 목록 생성** — `~~\w`를 grep하여 모든 커스터마이징 포인트를 찾고 할 일 목록을 작성합니다
3. **할 일 항목 완료** — 수집된 컨텍스트를 적용하고, 불분명한 경우 사용자에게 질문합니다
4. **유용한 MCP 검색** — 확인된 도구에 대한 MCP를 찾아 연결합니다

지식 MCP나 사용자 입력으로 답을 찾을 수 없는 경우, 해당 커스터마이징 포인트를 다음 커스터마이징 주기를 위해 그대로 유지합니다.

## 커스터마이징 워크플로우

### 1단계: 지식 MCP에서 컨텍스트 수집

사내 지식 MCP를 활용하여 정보를 수집합니다. 카테고리별 상세 쿼리 패턴은 `references/search-strategies.md`를 참조합니다.

**수집할 항목:**
- 각 `~~` 접두사 플레이스홀더에 대한 도구 이름
- 조직 프로세스 및 워크플로우
- 팀 관례(네이밍, 상태값, 추정 기준)
- 설정 값(워크스페이스 ID, 프로젝트 이름, 팀 식별자)

**검색 소스:**
1. **채팅/Slack MCP** — 도구 언급, 통합, 워크플로우 논의
2. **문서 MCP** — 온보딩 문서, 도구 가이드, 설정 안내
3. **이메일 MCP** — 라이선스 알림, 관리자 이메일, 설정 초대

3단계에서 사용할 수 있도록 모든 발견 사항을 기록합니다.

### 2단계: 커스터마이징 포인트에서 할 일 목록 생성

`grep -rn '~~\w' /path/to/plugin --include='*.md' --include='*.json'`을 실행하여 모든 커스터마이징 포인트를 찾습니다. 주제별로 그룹화하고 조직에 대해 파악하는 관점의 사용자 친화적인 설명으로 할 일 목록을 작성합니다:

- **좋은 예**: "회사의 스탠드업 준비 방식 파악하기"
- **나쁜 예**: "commands/standup-prep.md의 플레이스홀더 교체하기"

### 3단계: 할 일 항목 완료

1단계의 컨텍스트를 활용하여 각 항목을 처리합니다.

**지식 MCP가 명확한 답을 제공한 경우**: 확인 없이 직접 적용합니다.

**그렇지 않은 경우**: AskUserQuestion을 사용합니다. "업계 표준" 기본값이 정확하다고 가정하지 마십시오. 지식 MCP가 구체적인 답을 제공하지 않았다면 질문합니다. 참고: AskUserQuestion에는 항상 건너뛰기 버튼과 자유 텍스트 입력 상자가 포함되므로 `None`이나 `Other`를 옵션에 포함하지 마십시오.

**변경 유형:**

1. **커스터마이징 포인트 교체**: `~~Jira` → `Asana`, `~~your-org-channel` → `#engineering`
2. **URL 패턴 업데이트**: `tickets.example.com/your-team/123` → `app.asana.com/0/PROJECT_ID/TASK_ID`
3. **조직별 값**: 워크스페이스 ID, 프로젝트 이름, 팀 식별자

사용자가 모르거나 건너뛰는 경우, `~~` 접두사가 붙은 값을 그대로 유지합니다.

### 4단계: 유용한 MCP 검색

모든 커스터마이징 포인트가 해결된 후, 확인된 도구에 대한 MCP를 연결합니다. 전체 워크플로우, 카테고리-키워드 매핑, 설정 파일 형식은 `references/mcp-servers.md`를 참조합니다.

커스터마이징 중 확인된 각 도구에 대해:
1. 레지스트리 검색: `references/mcp-servers.md`의 카테고리 키워드를 사용하여 `search_mcp_registry(keywords=[...])`를 호출하거나, 이미 알고 있는 경우 특정 도구 이름으로 검색합니다
2. 연결되지 않은 경우: `suggest_connectors(directoryUuids=["chosen-uuid"])`를 호출하면 사용자가 OAuth를 완료합니다
3. 플러그인의 MCP 설정 파일을 업데이트합니다(`plugin.json`에서 사용자 지정 위치를 확인하고, 없으면 루트의 `.mcp.json`을 사용합니다)

모든 MCP 결과를 수집하여 요약 출력(아래 참조)에서 함께 제시합니다. 이 단계에서 MCP를 하나씩 제시하지 마십시오.

**참고:** 퍼스트파티 통합(Gmail, Google Calendar, Google Drive)은 사용자 수준에서 연결되므로 플러그인 `.mcp.json` 항목이 필요하지 않습니다.

## 플러그인 패키징

모든 커스터마이징이 적용된 후, 사용자를 위해 플러그인을 `.plugin` 파일로 패키징합니다:

1. **플러그인 디렉토리를 압축합니다**(`setup/`은 더 이상 필요하지 않으므로 제외):
   ```bash
   cd /path/to/plugin && zip -r /tmp/plugin-name.plugin . -x "setup/*" && cp /tmp/plugin-name.plugin /path/to/outputs/plugin-name.plugin
   ```
2. **`.plugin` 확장자로 사용자에게 파일을 제시합니다**. 사용자가 직접 설치할 수 있습니다. (.plugin 파일을 제시하면 사용자에게 플러그인 파일을 살펴볼 수 있는 리치 프리뷰로 표시되며, 버튼을 눌러 커스터마이징을 수락할 수 있습니다.)

> **중요**: 항상 `/tmp/`에 먼저 zip 파일을 생성한 다음 outputs 폴더로 복사합니다. outputs 폴더에 직접 쓰면 권한 문제로 실패하거나 임시 파일이 남을 수 있습니다.

> **파일 이름**: `.plugin` 파일에 원래 플러그인 디렉토리 이름을 사용합니다(예: 플러그인 디렉토리가 `coder`이면 출력 파일은 `coder.plugin`). 커스터마이징 중에 플러그인이나 파일의 이름을 변경하지 마십시오. 플레이스홀더 값만 교체하고 내용만 업데이트합니다.

## 요약 출력

커스터마이징 후, 소스별로 그룹화된 파악 내용 요약을 사용자에게 제시합니다. 설정 중 연결된 MCP와 아직 연결해야 할 MCP를 보여주는 MCP 섹션을 항상 포함합니다:

```markdown
## Slack 검색 결과
- 프로젝트 관리에 Asana를 사용합니다
- 스프린트 주기는 2주입니다

## 문서 검색 결과
- 스토리 포인트는 티셔츠 사이즈를 사용합니다

## 사용자 답변 결과
- 티켓 상태: Backlog, In Progress, In Review, Done
```

그런 다음 설정 중 연결된 MCP와 아직 연결해야 할 MCP를 연결 방법 안내와 함께 제시합니다.

1단계에서 사용 가능한 지식 MCP가 없었고, 사용자가 하나 이상의 질문에 수동으로 답해야 했다면, 마지막에 다음 참고 사항을 포함합니다:
> 참고로, Slack이나 Microsoft Teams와 같은 소스를 연결하면 다음에 플러그인을 커스터마이징할 때 자동으로 답을 찾을 수 있습니다.

## 추가 리소스

- **`references/mcp-servers.md`** — MCP 검색 워크플로우, 카테고리-키워드 매핑, 설정 파일 위치
- **`references/search-strategies.md`** — 도구 이름 및 조직 값을 찾기 위한 지식 MCP 쿼리 패턴
- **`examples/customized-mcp.json`** — 완전히 설정된 `.mcp.json` 예시
